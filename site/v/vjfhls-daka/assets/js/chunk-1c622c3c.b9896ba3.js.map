{"version":3,"sources":["webpack:///./src/views/clock/history.vue?8e4e","webpack:///./src/views/clock/imgs/bg-no.png","webpack:///./src/components/Calendar/imgs/arrow-right-default.png","webpack:///./src/components/Calendar/imgs/arrow-left-active.png","webpack:///./src/components/Calendar/imgs/arrow-right-active.png","webpack:///./src/views/clock/imgs/bg-notip.jpg","webpack:///./src/views/commonMixins/SignCardMixin.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/components/Calendar/Calendar.vue?ae8c","webpack:///./src/views/clock/history.vue?c891","webpack:///./src/components/Calendar/Calendar.vue?535e","webpack:///src/components/Calendar/Calendar.vue","webpack:///./src/components/Calendar/Calendar.vue?f6b9","webpack:///./src/components/Calendar/Calendar.vue","webpack:///src/views/clock/history.vue","webpack:///./src/views/clock/history.vue?eebe","webpack:///./src/views/clock/history.vue"],"names":["module","exports","computed","mapState","methods","mapMutations","getSignCardNum","this","pinchinInfo","signCardNum","punchinCard","then","res","result","code","businessCode","reply","setPinchinInfo","created","$","$map","map","arrayMethodHasSpeciesSupport","target","proto","forced","callbackfn","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","clockData","on","chooseMonth","chooseDate","isShowDakaCtr","choosedDate","toPinchin","key","punchinTime","_v","_s","tips","staticRenderFns","monthDate","_f","choosedDay","day","preMonth","YearMonth","nextMonth","rightArrow","_l","item","index","class","line6","daysData","today","clocked","choosed","disable","curMonth","$event","chooseIt","date","component"],"mappings":"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","file":"assets/js/chunk-1c622c3c.b9896ba3.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./history.vue?vue&type=style&index=0&id=075094b3&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./history.vue?vue&type=style&index=0&id=075094b3&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"assets/img/bg-no.9fdcb920.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAACbUlEQVRIia2WvWtUURDFz3uL0SIqBq3WJkQ0Njap/Iw2WTbiH2AQJJvK3srOKpZqYWslpI+tBBIxELcQLER2/VirYCCCW21i/Fm8udm7j/dxN2bgFnvnzDl75943MxGgEoskXZd0W9JVSecknTLfL0ltSe8kvZa0JqmYEMhbMdAAWoRby2LiPN48sXFgwyPqAE+AGeAscBQYBSaBmvm+evgN4wgSvAlseUJ3gUpBJtyqGLZjsVvAjTLBGaBnAcvAiQCh9DpusRhXLU/wAvDbgM8y7uEpsBooGhsHQNe4BwQr9O9sCYgySO6Z/0OgaGRcGHfFF2yY44elJI9kynDfSB5OSHrdnS44wYj+058LIBn3UnUyAD9n+BYQCZi2je+EvUYBYya4C5wpwVaMG2A6ljRrNWBJ0l5Z2THbljQm6aetiQLsnnFL0mws6Yr9WAkUc7YrqSrpk5LydqkA67gvC9i041YD05m13riU5fir5t+MgJ6kEUnHJPWGPKVvnyWdV1Ls0zZi3Dvxfwj4dt/EnpciDyGljy3+YQFmP6UC1uxHLYA8vV5Y7HwJrma41VjSuh321pBpfCXpgZLP6mUJ1nGvH/TDX7GYqQBsjPfhH6S0fTTsZOCf80tb7DYXbLND0smzAi8C28Af4HSg2CgZxdvVu/fmyGtPj0i6SUiXcJlz7alJqj3JUtQ1QFYDHmalG/B++tPAOoc/YtR9f1ZA3TupG6JCTpseorppsTxBl94mfesAiyRDVhU4Yqtqe4sMjolNcl5x2T00gDbh1qZkEI6gdNSPJV2TdEdJ75zQ4Kj/RcmovyzpraS/RWT/AE9hoGGioGOJAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAABGdBTUEAALGPC/xhBQAAAOFQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA+dXX5UdQ6Wdu98XI51lh++Lj6mlw86er7X6E+dPV7YCG9LG162926WFo9sDD8Z+k++Pk8JWa5lBY4i85/e7v/vn55EFK4ztE+dja/Ojp5kxV/Ovs/vX14jM9/e/w/vv74zxG4jA6/vf35D9I7omP+dTW5k5W//7+4jU/4Ss1////GzhgqwAAACB0Uk5Ty0fyRkDCJ9yLxcOKxCHrY8w/A4nKKEkBYj7z2wLo+QAiJ0TQAAABDklEQVQoz22T5XbDMAyFNSitFGjAIa9jZmbo1srv/0BbTuJYSnr/RPJ3jmVf34AsFQh3kGZZOuiLQK9B8UnCWFWKw4TC4UQxTYYGro9UTSOh4VqmGspWCtheVUsUtXPo8Hl7B3qu8w9DxrZwX5djCUFM2Q5umxsFYBM0n+ImaW1wTXN7h7t0Gxc2qvrt9fqGzW9BqstHvH/ht0lBG/CwuJrXjaggLpouVdte4nkdpuZAx3hUgy3oV/UZnnDoUhMO8ZRBm9l3gU+ExQnIMemfPz++FDFeOkDo+zf+lKWVP5n0Ijrod1Y+tlfExF8WE18HzI8aIfFNND2LM8vjoe4Y1OGhzrHo9vLfodcViV77A1botEOjf7mXAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAABGdBTUEAALGPC/xhBQAAANhQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA6WJp++Lj/e7u5k1V4S445EFK/vv7+tnb9sLF9K6y8JSZ7YKI+t7f7HZ86WBo4S03/e7v5lBY9LC0/fPz+MvN5UtT8Z+j7oaM5UZO6F5l51Ja9LO2++Tl/fDx7oeN4zlC+t3f5ENM8Zqe+dXX4jU//vn54Ss1////L76x/AAAACB0Uk5Ty0fyQEbCJ9yLxcOKxCHrY8wDP4nKKEkBYj7z2wLo+QC+i0erAAABCElEQVQoz22T1XrEIBCFp7YukU0IMeru7rbb4f3fqE2TwEyy5wYOPx8yHEBVEtIfZXmejYZS1GNQNmmUaKMkSikczzTTbGzh2kQ3NJE1XM91S/lKCTureoniTgHdar/3p8a+7h+MKvOCz5xOFQhzhzk+/lCYCPCse8XFDaUe+MS9LXa3ifVhQOfu7+GWdRuQ8VPs4IHpZ9AswCbemkK0oL5DCxvL6mt8sMsOODvGe3KgIWMneESv4lF2hoesCIJE4BzntHwpqKlxV3jaKLxyoex/flxcUuYUT6aC+N98f7E3iYMyJuGymIR1wMK4FZLQRjNwOHMCHuquRV0e6gLLXr/4Dv2eTOuxX1HWrjU66KejAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"assets/img/bg-notip.932e7750.jpg\";","import { mapState, mapMutations } from 'vuex'\r\nimport { punchinCard } from '../../api/punchin';\r\nexport default {\r\n  computed: {\r\n    ...mapState(['pinchinInfo']),\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setPinchinInfo']),\r\n    getSignCardNum() {\r\n      if (this.pinchinInfo.signCardNum !== null) return\r\n      return punchinCard().then(res => {\r\n        \r\n        if (res.result.code === '0' && res.result.businessCode === '0') {\r\n          let signCardNum = 0\r\n          if (res.reply) {\r\n            signCardNum = res.reply.signCardNum\r\n          }\r\n          this.setPinchinInfo({\r\n            signCardNum\r\n          })\r\n          return { signCardNum }\r\n        } else {\r\n          this.setPinchinInfo({\r\n            signCardNum: 0\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getSignCardNum()\r\n  }\r\n\r\n}","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('map') }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=39d68d56&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=39d68d56&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-column history-wrap\"},[_c('Calender',{attrs:{\"clockData\":_vm.clockData},on:{\"chooseMonth\":_vm.chooseMonth,\"chooseDate\":_vm.chooseDate}}),_c('div',{staticClass:\"clock-img\"},[(!_vm.isShowDakaCtr)?_c('div',{staticClass:\"wrap-shadow\"},[(_vm.choosedDate.clocked)?_c('MorningClock',{key:_vm.choosedDate.clockData.punchinTime,staticClass:\"daka-img-box\",attrs:{\"pinchinInfo\":_vm.choosedDate.clockData}}):_c('div',{staticClass:\"clock-box flex-column\"},[_c('img',{staticClass:\"daka-noimg\",attrs:{\"src\":require(\"./imgs/bg-no.png\"),\"alt\":\"\"}}),_c('span',{staticClass:\"daka-notext\"},[_vm._v(_vm._s(_vm.tips))])])],1):_c('ClockTip',{staticClass:\"daka-img-box\",attrs:{\"targetDate\":_vm.choosedDate,\"source\":\"打卡历史页\"},on:{\"click\":_vm.toPinchin}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"calenter-wrap flex-column\"},[_c('div',{staticClass:\"now-date flex-between\"},[_c('div',{staticClass:\"now-day\"},[_c('span',[_vm._v(_vm._s(_vm.monthDate))]),_c('span',[_vm._v(_vm._s(_vm._f(\"dayTransform\")(_vm.choosedDay.day)))])]),_c('div',{staticClass:\"now-month flex\"},[_c('div',{staticClass:\"imgbox\",on:{\"click\":_vm.preMonth}},[_c('img',{staticClass:\"month-btn\",attrs:{\"src\":require(\"./imgs/arrow-left-active.png\")}})]),_c('span',[_vm._v(_vm._s(_vm.YearMonth))]),_c('div',{staticClass:\"imgbox\",on:{\"click\":_vm.nextMonth}},[_c('img',{staticClass:\"month-btn\",attrs:{\"src\":_vm.rightArrow}})])])]),_c('div',{staticClass:\"week-text text-line flex-between\"},_vm._l((_vm.weekText),function(item,index){return _c('div',{key:'week'+index,staticClass:\"line-item flex\"},[_c('span',[_vm._v(_vm._s(item))])])}),0),_c('div',{staticClass:\"days-wrap text-line flex-between\",class:{line6: _vm.daysData.length>37}},_vm._l((_vm.daysData),function(item,index){return _c('div',{key:'date'+index,staticClass:\"line-item flex\",class:{'today': item.today, clocked: item.clocked, choosed: _vm.choosedDay===item, disable: !item.curMonth},on:{\"click\":function($event){return _vm.chooseIt(item)}}},[_c('span',[_vm._v(_vm._s(item.date))])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"calenter-wrap flex-column\">\r\n    <!--年月日栏-->\r\n    <div class=\"now-date flex-between\">\r\n      <div class=\"now-day\">\r\n        <span>{{monthDate}}</span>\r\n        <span>{{choosedDay.day | dayTransform}}</span>\r\n      </div>\r\n      <div class=\"now-month flex\">\r\n        <div class=\"imgbox\"\r\n             @click=\"preMonth\">\r\n          <img src=\"./imgs/arrow-left-active.png\"\r\n               class=\"month-btn\">\r\n        </div>\r\n        <span>{{YearMonth}}</span>\r\n        <div class=\"imgbox\"\r\n             @click=\"nextMonth\">\r\n          <img :src=\"rightArrow\"\r\n               class=\"month-btn\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--周几 文字栏-->\r\n    <div class=\"week-text text-line flex-between\">\r\n      <div class=\"line-item flex\"\r\n      v-for=\"(item, index) in weekText\"\r\n      :key=\"'week'+index\">\r\n        <span>{{item}}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <!--日期内容-->\r\n    <div class=\"days-wrap text-line flex-between\" :class=\"{line6: daysData.length>37}\">\r\n      <div class=\"line-item flex\"\r\n           :class=\"{'today': item.today, clocked: item.clocked, choosed: choosedDay===item, disable: !item.curMonth}\"\r\n           v-for=\"(item, index) in daysData\"\r\n           :key=\"'date'+index\" @click=\"chooseIt(item)\">\r\n        <span>{{item.date}}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"calendar\",\r\n    props: {\r\n      // 打卡数据\r\n      clockData: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      monthLimite: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        choosedDay: {\r\n          // year: 2019, month: 7, day: 1, date: 29\r\n        }, // 选择的日期\r\n        daysData: [],\r\n        choosedMonthY: {}, // 当前显示的年月份\r\n        diffMonth: 0, // 与本月相差月数\r\n        arrowImgs: {\r\n          rightDefault: require('./imgs/arrow-right-default.png'),\r\n          rightActive: require('./imgs/arrow-right-active.png'),\r\n        }\r\n      }\r\n    },\r\n    filters: {\r\n      dayTransform(val) {\r\n        switch (val) {\r\n          case 0: return '周日'; break;\r\n          case 1: return '周一'; break;\r\n          case 2: return '周二'; break;\r\n          case 3: return '周三'; break;\r\n          case 4: return '周四'; break;\r\n          case 5: return '周五'; break;\r\n          case 6: return '周六'; break;\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n      init(diffMonth) {\r\n        const {choosedDay, daysData} = this.createDaysData(diffMonth)\r\n        this.choosedMonthY = choosedDay\r\n        this.choosedDay = this.choosedDay.date ? this.choosedDay : choosedDay\r\n        this.daysData = daysData\r\n      },\r\n      // 点击日期\r\n      chooseIt(val) {\r\n        if(!val.curMonth || this.choosedDay === val) return\r\n        this.choosedDay = val\r\n        // this.choosedDay.date = val.date\r\n        this.$emit('chooseDate', val)\r\n      },\r\n      // 上一月按钮\r\n      preMonth() {\r\n        this.diffMonth--\r\n      },\r\n      // 下一月按钮\r\n      nextMonth() {\r\n        if(this.diffMonth >= 0) return\r\n        this.diffMonth++\r\n      },\r\n      // 生成相应月数的显示数据\r\n      createDaysData(diffMonth=0) {\r\n        const newDate = new Date();\r\n\r\n        // 设置一个标准不变的时间用来做对照\r\n        const flagDate = new Date();\r\n        const flagYear = flagDate.getFullYear();\r\n        const flagMonth = flagDate.getMonth() + 1;\r\n\r\n        // 设置一下上个月或者下个月\r\n        newDate.setMonth(newDate.getMonth() + diffMonth)\r\n        const curDate = +newDate\r\n        const year = newDate.getFullYear();\r\n        const month = newDate.getMonth() + 1;\r\n        const date = newDate.getDate();\r\n\r\n        // 设置到当月的1号\r\n        newDate.setDate(1);\r\n\r\n        // 拿到当月的1号是星期几\r\n        let prevMonthIndex = newDate.getDay();\r\n        const curMonthFirstDay = prevMonthIndex\r\n        // 获取到1号前面空了多少个空，正好是1号对应的星期数 - 1\r\n        prevMonthIndex = prevMonthIndex === 0 ? 6 : --prevMonthIndex;\r\n\r\n        // 设置到下个月\r\n        newDate.setMonth(newDate.getMonth() + 1);\r\n\r\n        // 设置下个月的日期为0，获取到当月有多少天\r\n        newDate.setDate(0);\r\n\r\n        // 获取当月有多少天 及最后一天为周几\r\n        const currentMonthDates = newDate.getDate();\r\n        const lastDay = newDate.getDay()\r\n        // 设置到上一个的最后一天\r\n        newDate.setDate(0);\r\n\r\n        // 获取到上个月的最后一天是几号，就拿到上个月有多少天了\r\n        const prevMonthDates = newDate.getDate();\r\n        const DataDay = []\r\n\r\n        // 生成上个月剩余的要显示的天数\r\n        for(var i = prevMonthIndex - 1; i>=0; i--){\r\n          const thatDate = {\r\n            date: prevMonthDates - i,         //日期\r\n            day: prevMonthDates,          //周几\r\n            clocked: false,  //是否打卡\r\n            curMonth: false, //是否为当月\r\n          }\r\n          DataDay.push(thatDate)\r\n        }\r\n        // 生成当月的日期数\r\n        const curMonthDate = new Date(curDate)\r\n        console.log('-----生成当月的日期数------')\r\n        console.log(curMonthDate.getMonth()+1)\r\n        for(var i=1; i<=currentMonthDates; i++){\r\n          curMonthDate.setDate(i)\r\n          const thatDate = {\r\n            date: i,         //日期\r\n            day: curMonthDate.getDay(),//周几\r\n            month: month,\r\n            clocked: false,  //是否打卡\r\n            curMonth: true, //是否为当月\r\n            nowDate: +curMonthDate\r\n          }\r\n          if(i === date && year === flagYear && month === flagMonth){\r\n            thatDate.today = true\r\n          }\r\n          DataDay.push(thatDate)\r\n        }\r\n\r\n        // 生成下个月的日期\r\n        for(var i=1; i<=7-lastDay; i++){\r\n          const thatDate = {\r\n            date: i,         //日期\r\n            day: lastDay+i,          //周几\r\n            clocked: false,  //是否打卡\r\n            curMonth: false, //是否为当月\r\n          }\r\n          if(i === 7-lastDay){\r\n            thatDate.day = 0\r\n          }\r\n          DataDay.push(thatDate)\r\n        }\r\n        return {\r\n          choosedDay: {\r\n            year: year,\r\n            month: month,\r\n            day: new Date().getDay(),\r\n            date: date\r\n          },\r\n          daysData: DataDay\r\n        };\r\n      },\r\n\r\n      // 讲打卡记录合并到日历数据中\r\n      mergeRecord() {\r\n        if(!this.clockData.length) return\r\n        const clockRecord = this.handleRecord()\r\n        this.daysData.map(item => {\r\n          if(item.curMonth && clockRecord[item.date]) {\r\n            item.clocked = true\r\n            item.clockData = clockRecord[item.date]\r\n          }\r\n        })\r\n      },\r\n      handleRecord() {\r\n        const clockData = this.clockData\r\n        const clockRecord = {}\r\n        clockData.map(item => {\r\n          const date = (new Date(item.punchinTime.split(' ')[0])).getDate()\r\n          clockRecord[date] = item\r\n        })\r\n        console.log(clockRecord);\r\n        return clockRecord\r\n      },\r\n      // 补0\r\n      add0(val) {\r\n        return val >= 10 ? val : '0' + val\r\n      }\r\n    },\r\n    computed: {\r\n      monthDate() {\r\n        const {month, date} = this.choosedDay\r\n        return `${this.add0(month)}月${this.add0(date)}日`\r\n      },\r\n      YearMonth() {\r\n        const {month, year} = this.choosedMonthY\r\n        return `${year}.${this.add0(month)}`\r\n      },\r\n      rightArrow() {\r\n        return this.diffMonth===0?this.arrowImgs.rightDefault:this.arrowImgs.rightActive\r\n      }\r\n    },\r\n    watch: {\r\n      diffMonth(val) {\r\n        this.init(this.diffMonth)\r\n        this.$emit('chooseMonth', this.choosedMonthY)\r\n      },\r\n      clockData() {\r\n        this.mergeRecord()\r\n      }\r\n    },\r\n    created() {\r\n      this.weekText = ['一', '二', '三', '四', '五', '六', '日']\r\n      this.init()\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .calenter-wrap {\r\n    background: linear-gradient(-57deg, rgb(216,42,78) 0%, rgb(232,44,31) 120%);\r\n    width: 670px;\r\n    /*min-height: 480px;*/\r\n    /*box-sizing: border-box;*/\r\n    padding: 10px 40px 18px;\r\n    font-size: 28px;\r\n    color: #fff;\r\n    .text-line {\r\n      line-height: 64px;\r\n      width: 100%;\r\n      &.days-wrap {\r\n        /*height: auto;*/\r\n        height: 320px;\r\n        &.line6 {\r\n          height: 384px;\r\n        }\r\n      }\r\n      .line-item {\r\n        height: 58px;\r\n        width: 58px;\r\n        box-sizing: border-box;\r\n        text-align: center;\r\n        border-radius: 50%;\r\n        margin-top: 6px;\r\n        margin-left: 42px;\r\n        position: relative;\r\n        &:nth-of-type(7n+1) {\r\n          margin-left: 0;\r\n        }\r\n        .clocked-dot {\r\n          display: none;\r\n          position: absolute;\r\n          height: 8px;\r\n          width: 8px;\r\n          left: 22px;\r\n          top: 50px;\r\n        }\r\n        &.clocked {\r\n          /*background: #fa7a7a;*/\r\n          &::after {\r\n            content: url(\"./imgs/icon-dot-6.png\");\r\n            position: absolute;\r\n            left: 22px;\r\n            top: 16px;\r\n          }\r\n        }\r\n        &.today {\r\n          border: 2px solid #fa7a7a;\r\n          &::after {\r\n          content: '';\r\n        }\r\n        }\r\n        &.choosed {\r\n          background: #fa7a7a;\r\n          &::after {\r\n            content: '';\r\n          }\r\n        }\r\n        &.disable {\r\n          color: rgba(255, 255, 255, 0.41);\r\n        }\r\n      }\r\n    }\r\n    .now-date {\r\n      height: 81px;\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n      border-bottom: 1px solid #fff;\r\n      .now-month {\r\n        .imgbox {\r\n          height: 60px;\r\n          width: 60px;\r\n          display: flex;\r\n          justify-content: flex-end;\r\n          align-items: center;\r\n          &:nth-of-type(2) {\r\n            margin-left: -30px;\r\n          }\r\n        }\r\n        span {\r\n          padding: 0 8px;\r\n        }\r\n      }\r\n      .month-btn {\r\n        height: 28px;\r\n        width: 28px;\r\n        display: inline;\r\n      }\r\n    }\r\n    .days-wrap {\r\n      margin-top: -7px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=39d68d56&scoped=true&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&id=39d68d56&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39d68d56\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<!--  :class=\"{'short-screen': longScreen}\"-->\n  <div class=\"flex-column history-wrap\">\n    <!--日历-->\n    <Calender :clockData=clockData\n              @chooseMonth=\"chooseMonth\"\n              @chooseDate=\"chooseDate\"/>\n\n<!--    需要生成为图片的部分-->\n    <div class=\"clock-img\">\n      <div class=\"wrap-shadow\" v-if=\"!isShowDakaCtr\">\n        <MorningClock class=\"daka-img-box\"\n                      v-if=\"choosedDate.clocked\"\n                      :pinchinInfo=\"choosedDate.clockData\"\n                      :key=\"choosedDate.clockData.punchinTime\"/>\n\n        <!--打卡图不见了-->\n        <div class=\"clock-box flex-column\" v-else>\n          <img class=\"daka-noimg\" src=\"./imgs/bg-no.png\" alt=\"\">\n          <span class=\"daka-notext\">{{tips}}</span>\n        </div>\n      </div>\n\n      <ClockTip v-else \n                class=\"daka-img-box\" \n                :targetDate=\"choosedDate\"\n                source=\"打卡历史页\"\n                @click=\"toPinchin\"></ClockTip>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Calender from '../../components/Calendar/Calendar';\n  import MorningClock from './components/MorningClock';\n  import ClockTip from './components/ClockTip/ClockTip';\n  import mixin from './components/mixin';\n  import SignCardMixin from \"../commonMixins/SignCardMixin\";\n  import {clog, myPunchinRecord} from \"../../api/punchin\";\n  import {add0, parseTime, withinLimitTime} from \"../../utils/tools\";\n  import {punchinLimitTime} from \"../../utils/config\";\n  const [[startHour, startMin],[endHour, endMin]] = punchinLimitTime\n  export default {\n    name: \"history\",\n    components: {MorningClock, Calender, ClockTip},\n    mixins: [mixin, SignCardMixin],\n    data() {\n      return {\n        dakaImg: require('./imgs/bg-notip.jpg'),\n        clockData: [],\n        choosedDate: {}, // 被选择的那天的打卡情况\n        isShowDakaCtr: false, // 是否显示打卡组件,\n        shortScreen: false,\n        longScreen: false\n      }\n    },\n    computed: {\n      tips() {\n        if(!this.choosedDate.nowDate) return '真抱歉，打卡图不见了'\n        const flag = +new Date().setHours(23,59,0,0) > this.choosedDate.nowDate\n        // console.log(this.choosedDate.nowDate , +new Date())\n        return flag ? '真抱歉，打卡图不见了' : '这一天还没到哦'\n      }\n    },\n    methods: {\n      // 在日历中点击选择\n      chooseDate: (function () {\n        var targetDateVal = {} // 保存上次选中日期饿打卡数据(object, 数据与)\n        return function (val) {\n          if(!targetDateVal.nowDate && !val) return\n          targetDateVal = val ? val : targetDateVal\n          this.choosedDate = {\n            clocked: targetDateVal.clocked,\n            clockData: targetDateVal.clockData,\n            nowDate: targetDateVal.nowDate,\n            today: targetDateVal.today\n          }\n\n          this.showDakaCtr()\n          clog('早安打卡', ['vjf-h5-log','transTime','openid','好物好生活平',location.href.split('?')[0],'点击日期','查看选定日期打卡图片']);\n          _hmt.push(['_trackEvent', 'click', '打卡历史界面', '点击日期查看历史记录']);\n        }\n      })(),\n      // 切换月份\n      chooseMonth: (function() {\n        let yearMonth = parseTime(new Date(), '{yyyy}{mm}')\n        return function (val) {\n          yearMonth = val ? `${val.year}${add0(val.month)}` : yearMonth\n\n          clog('早安打卡', ['vjf-h5-log','transTime','openid','好物好生活平',location.href.split('?')[0],'点击月份','查看之前月份打卡情况']);\n          _hmt.push(['_trackEvent', 'click', '打卡历史界面', '切换月份']);\n\n          return this.queryMonthRecord(yearMonth)\n          // console.log('choosedMonth', val);\n        }\n      })(),\n      // 补卡后重新获取当前月打卡历史\n      initMonth() {\n        return this.chooseMonth().then(res => {\n          this.chooseDate()\n        })\n      },\n      // 查询指定月份记录\n      queryMonthRecord(yearMonth) {\n        const data = {\n          punchinMonth: yearMonth\n        }\n        return myPunchinRecord(data).then(res => {\n          // console.log('打卡记录', res);\n          this.clockData = res.reply || []\n        })\n      },\n\n      // 判断是否打卡，未打卡, 或者可补签\n      showDakaCtr() {\n        //  || (this.choosedDate.today && +new Date() > new Date().setHours(11,30,0,0)) 当日补卡判断条件\n        if((this.choosedDate.today && !this.choosedDate.clocked && (withinLimitTime() || +new Date() > new Date().setHours(endHour,endMin,0,0)))) {\n          this.isShowDakaCtr = true\n        } else {\n          this.isShowDakaCtr = false\n        }\n\n        const ago60 = new Date().setHours(0,0,0,0) - 60*60*24*60*1000\n        // 未打卡 && 在补卡期限内 就需要显示打卡组件\n        if(!this.choosedDate.clocked && this.choosedDate.nowDate < new Date().setHours(0,0,0,0) && this.choosedDate.nowDate > ago60) {\n          this.isShowDakaCtr = true\n        }\n        \n      }\n    },\n    created() {\n      const yearMonth = parseTime(new Date(), '{yyyy}{mm}')\n      this.queryMonthRecord(yearMonth)\n      this.initPromise.then(() => {\n        this.showDakaCtr()\n      })\n      this.longScreen = !this.handleShortScreen(1300)\n      console.log('this.longScreen',this.longScreen)\n      clog('早安打卡', ['vjf-h5-log','transTime','openid','好物好生活平',location.href.split('?')[0],'进入打卡历史页','进入打卡历史页']);\n      _hmt.push(['_trackEvent', 'click', '首页', '点击进入打卡历史页面']);\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .history-wrap {\n    width: 100%;\n    /*height: 1200px;*/\n    &.short-screen {\n      height: 100%;\n      .wrap-shadow {\n        /*<!--margin-top: -3.1vh;-->*/\n      }\n    }\n  }\n  .clock-img {\n    width: 100%;\n    padding: 35px 0 20px;\n    /*min-height: 700px;*/\n    display: flex;\n    justify-content: center;\n    .clock-box {\n      width: 628px;\n      min-height: 640px;\n\n      .daka-noimg {\n        width: 327px;\n        height: 310px;\n        margin-top: 110px;\n      }\n      .daka-notext {\n        height: 40px;\n        line-height: 40px;\n        font-size: 32px;\n        text-align: center;\n        color: #858585;\n        margin-top: 26px;\n      }\n\n\n      .daka-img {\n        width: 100%;\n        height: 100%;\n      }\n\n    }\n  }\n  .wrap-shadow {\n    /*<!--margin-top: -2.1vh;-->*/\n  }\n  .daka-img-box {\n    margin-top: 0px!important;\n    position: relative;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./history.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./history.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./history.vue?vue&type=template&id=075094b3&scoped=true&\"\nimport script from \"./history.vue?vue&type=script&lang=js&\"\nexport * from \"./history.vue?vue&type=script&lang=js&\"\nimport style0 from \"./history.vue?vue&type=style&index=0&id=075094b3&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"075094b3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}