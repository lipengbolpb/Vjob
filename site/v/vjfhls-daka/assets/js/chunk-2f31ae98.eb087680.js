(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f31ae98"],{"0a62":function(t,e,a){"use strict";var n=a("ceec"),o=a.n(n);o.a},"0cf7":function(t,e,a){t.exports=a.p+"assets/img/bg-no.9fdcb920.png"},"1e13":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAACbUlEQVRIia2WvWtUURDFz3uL0SIqBq3WJkQ0Njap/Iw2WTbiH2AQJJvK3srOKpZqYWslpI+tBBIxELcQLER2/VirYCCCW21i/Fm8udm7j/dxN2bgFnvnzDl75943MxGgEoskXZd0W9JVSecknTLfL0ltSe8kvZa0JqmYEMhbMdAAWoRby2LiPN48sXFgwyPqAE+AGeAscBQYBSaBmvm+evgN4wgSvAlseUJ3gUpBJtyqGLZjsVvAjTLBGaBnAcvAiQCh9DpusRhXLU/wAvDbgM8y7uEpsBooGhsHQNe4BwQr9O9sCYgySO6Z/0OgaGRcGHfFF2yY44elJI9kynDfSB5OSHrdnS44wYj+058LIBn3UnUyAD9n+BYQCZi2je+EvUYBYya4C5wpwVaMG2A6ljRrNWBJ0l5Z2THbljQm6aetiQLsnnFL0mws6Yr9WAkUc7YrqSrpk5LydqkA67gvC9i041YD05m13riU5fir5t+MgJ6kEUnHJPWGPKVvnyWdV1Ls0zZi3Dvxfwj4dt/EnpciDyGljy3+YQFmP6UC1uxHLYA8vV5Y7HwJrma41VjSuh321pBpfCXpgZLP6mUJ1nGvH/TDX7GYqQBsjPfhH6S0fTTsZOCf80tb7DYXbLND0smzAi8C28Af4HSg2CgZxdvVu/fmyGtPj0i6SUiXcJlz7alJqj3JUtQ1QFYDHmalG/B++tPAOoc/YtR9f1ZA3TupG6JCTpseorppsTxBl94mfesAiyRDVhU4Yqtqe4sMjolNcl5x2T00gDbh1qZkEI6gdNSPJV2TdEdJ75zQ4Kj/RcmovyzpraS/RWT/AE9hoGGioGOJAAAAAElFTkSuQmCC"},"48e8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAABGdBTUEAALGPC/xhBQAAAOFQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA+dXX5UdQ6Wdu98XI51lh++Lj6mlw86er7X6E+dPV7YCG9LG162926WFo9sDD8Z+k++Pk8JWa5lBY4i85/e7v/vn55EFK4ztE+dja/Ojp5kxV/Ovs/vX14jM9/e/w/vv74zxG4jA6/vf35D9I7omP+dTW5k5W//7+4jU/4Ss1////GzhgqwAAACB0Uk5Ty0fyRkDCJ9yLxcOKxCHrY8w/A4nKKEkBYj7z2wLo+QAiJ0TQAAABDklEQVQoz22T5XbDMAyFNSitFGjAIa9jZmbo1srv/0BbTuJYSnr/RPJ3jmVf34AsFQh3kGZZOuiLQK9B8UnCWFWKw4TC4UQxTYYGro9UTSOh4VqmGspWCtheVUsUtXPo8Hl7B3qu8w9DxrZwX5djCUFM2Q5umxsFYBM0n+ImaW1wTXN7h7t0Gxc2qvrt9fqGzW9BqstHvH/ht0lBG/CwuJrXjaggLpouVdte4nkdpuZAx3hUgy3oV/UZnnDoUhMO8ZRBm9l3gU+ExQnIMemfPz++FDFeOkDo+zf+lKWVP5n0Ijrod1Y+tlfExF8WE18HzI8aIfFNND2LM8vjoe4Y1OGhzrHo9vLfodcViV77A1botEOjf7mXAAAAAElFTkSuQmCC"},8350:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAABGdBTUEAALGPC/xhBQAAANhQTFRF////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAA6WJp++Lj/e7u5k1V4S445EFK/vv7+tnb9sLF9K6y8JSZ7YKI+t7f7HZ86WBo4S03/e7v5lBY9LC0/fPz+MvN5UtT8Z+j7oaM5UZO6F5l51Ja9LO2++Tl/fDx7oeN4zlC+t3f5ENM8Zqe+dXX4jU//vn54Ss1////L76x/AAAACB0Uk5Ty0fyQEbCJ9yLxcOKxCHrY8wDP4nKKEkBYj7z2wLo+QC+i0erAAABCElEQVQoz22T1XrEIBCFp7YukU0IMeru7rbb4f3fqE2TwEyy5wYOPx8yHEBVEtIfZXmejYZS1GNQNmmUaKMkSikczzTTbGzh2kQ3NJE1XM91S/lKCTureoniTgHdar/3p8a+7h+MKvOCz5xOFQhzhzk+/lCYCPCse8XFDaUe+MS9LXa3ifVhQOfu7+GWdRuQ8VPs4IHpZ9AswCbemkK0oL5DCxvL6mt8sMsOODvGe3KgIWMneESv4lF2hoesCIJE4BzntHwpqKlxV3jaKLxyoex/flxcUuYUT6aC+N98f7E3iYMyJuGymIR1wMK4FZLQRjNwOHMCHuquRV0e6gLLXr/4Dv2eTOuxX1HWrjU66KejAAAAAElFTkSuQmCC"},"891a":function(t,e,a){"use strict";var n=a("f35c"),o=a.n(n);o.a},aba3:function(t,e,a){t.exports=a.p+"assets/img/bg-notip.932e7750.jpg"},ceec:function(t,e,a){},d2c5:function(t,e,a){"use strict";a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("2fa7"),o=a("2f62"),s=a("ea00");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e["a"]={computed:i({},Object(o["d"])(["pinchinInfo"])),methods:i({},Object(o["c"])(["setPinchinInfo"]),{getSignCardNum:function(){var t=this;if(null===this.pinchinInfo.signCardNum)return Object(s["f"])().then((function(e){if("0"===e.result.code&&"0"===e.result.businessCode){var a=0;return e.reply&&(a=e.reply.signCardNum),t.setPinchinInfo({signCardNum:a}),{signCardNum:a}}t.setPinchinInfo({signCardNum:0})}))}}),created:function(){this.getSignCardNum()}}},d81d:function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").map,s=a("1dde");n({target:"Array",proto:!0,forced:!s("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},f09f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-column history-wrap"},[n("Calender",{attrs:{clockData:t.clockData},on:{chooseMonth:t.chooseMonth,chooseDate:t.chooseDate}}),n("div",{staticClass:"clock-img"},[t.isShowDakaCtr?n("ClockTip",{staticClass:"daka-img-box",attrs:{targetDate:t.choosedDate,source:"打卡历史页"},on:{click:t.toPinchin}}):n("div",{staticClass:"wrap-shadow"},[t.choosedDate.clocked?n("MorningClock",{key:t.choosedDate.clockData.punchinTime,staticClass:"daka-img-box",attrs:{pinchinInfo:t.choosedDate.clockData}}):n("div",{staticClass:"clock-box flex-column"},[n("img",{staticClass:"daka-noimg",attrs:{src:a("0cf7"),alt:""}}),n("span",{staticClass:"daka-notext"},[t._v(t._s(t.tips))])])],1)],1)],1)},o=[],s=(a("99af"),a("0d03"),a("ac1f"),a("1276"),a("e587")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calenter-wrap flex-column"},[n("div",{staticClass:"now-date flex-between"},[n("div",{staticClass:"now-day"},[n("span",[t._v(t._s(t.monthDate))]),n("span",[t._v(t._s(t._f("dayTransform")(t.choosedDay.day)))])]),n("div",{staticClass:"now-month flex"},[n("div",{staticClass:"imgbox",on:{click:t.preMonth}},[n("img",{staticClass:"month-btn",attrs:{src:a("48e8")}})]),n("span",[t._v(t._s(t.YearMonth))]),n("div",{staticClass:"imgbox",on:{click:t.nextMonth}},[n("img",{staticClass:"month-btn",attrs:{src:t.rightArrow}})])])]),n("div",{staticClass:"week-text text-line flex-between"},t._l(t.weekText,(function(e,a){return n("div",{key:"week"+a,staticClass:"line-item flex"},[n("span",[t._v(t._s(e))])])})),0),n("div",{staticClass:"days-wrap text-line flex-between",class:{line6:t.daysData.length>37}},t._l(t.daysData,(function(e,a){return n("div",{key:"date"+a,staticClass:"line-item flex",class:{today:e.today,clocked:e.clocked,choosed:t.choosedDay===e,disable:!e.curMonth},on:{click:function(a){return t.chooseIt(e)}}},[n("span",[t._v(t._s(e.date))])])})),0)])},i=[],r=(a("d81d"),{name:"calendar",props:{clockData:{type:Array,default:function(){return[]}},monthLimite:{type:String,default:""}},data:function(){return{choosedDay:{},daysData:[],choosedMonthY:{},diffMonth:0,arrowImgs:{rightDefault:a("1e13"),rightActive:a("8350")}}},filters:{dayTransform:function(t){switch(t){case 0:return"周日";case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六"}}},methods:{init:function(t){var e=this.createDaysData(t),a=e.choosedDay,n=e.daysData;this.choosedMonthY=a,this.choosedDay=this.choosedDay.date?this.choosedDay:a,this.daysData=n},chooseIt:function(t){t.curMonth&&this.choosedDay!==t&&(this.choosedDay=t,this.$emit("chooseDate",t))},preMonth:function(){this.diffMonth--},nextMonth:function(){this.diffMonth>=0||this.diffMonth++},createDaysData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Date((new Date).setDate(1)),a=new Date,n=a.getFullYear(),o=a.getMonth()+1;e.setMonth(e.getMonth()+t);var s=+e,c=e.getFullYear(),i=e.getMonth()+1,r=(new Date).getDate();e.setDate(1);var h=e.getDay();h=0===h?6:--h,e.setMonth(e.getMonth()+1),e.setDate(0);var d=e.getDate(),u=e.getDay();e.setDate(0);for(var l=e.getDate(),f=[],A=h-1;A>=0;A--){var D={date:l-A,day:l,clocked:!1,curMonth:!1};f.push(D)}var m=new Date(s);for(A=1;A<=d;A++){m.setDate(A);var p={date:A,day:m.getDay(),month:i,clocked:!1,curMonth:!0,nowDate:+m};A===r&&c===n&&i===o&&(p.today=!0),f.push(p)}for(A=1;A<=7-u;A++){var y={date:A,day:u+A,clocked:!1,curMonth:!1};A===7-u&&(y.day=0),f.push(y)}return{choosedDay:{year:c,month:i,day:(new Date).getDay(),date:r},daysData:f}},mergeRecord:function(){if(this.clockData.length){var t=this.handleRecord();this.daysData.map((function(e){e.curMonth&&t[e.date]&&(e.clocked=!0,e.clockData=t[e.date])}))}},handleRecord:function(){var t=this.clockData,e={};return t.map((function(t){var a=new Date(t.punchinTime.split(" ")[0]).getDate();e[a]=t})),e},add0:function(t){return t>=10?t:"0"+t}},computed:{monthDate:function(){var t=this.choosedDay,e=t.month,a=t.date;return"".concat(this.add0(e),"月").concat(this.add0(a),"日")},YearMonth:function(){var t=this.choosedMonthY,e=t.month,a=t.year;return"".concat(a,".").concat(this.add0(e))},rightArrow:function(){return 0===this.diffMonth?this.arrowImgs.rightDefault:this.arrowImgs.rightActive}},watch:{diffMonth:function(t){this.init(this.diffMonth),this.$emit("chooseMonth",this.choosedMonthY)},clockData:function(){this.mergeRecord()}},created:function(){this.weekText=["一","二","三","四","五","六","日"],this.init()}}),h=r,d=(a("891a"),a("2877")),u=Object(d["a"])(h,c,i,!1,null,"6c893354",null),l=u.exports,f=a("5188"),A=a("3fe5"),D=a("f24d"),m=a("d2c5"),p=a("ea00"),y=a("b893"),g=a("01ea"),v=Object(s["a"])(g["b"],2),w=Object(s["a"])(v[0],2),k=(w[0],w[1],Object(s["a"])(v[1],2)),C=k[0],b=k[1],j={name:"history",components:{MorningClock:f["a"],Calender:l,ClockTip:A["a"]},mixins:[D["a"],m["a"]],data:function(){return{dakaImg:a("aba3"),clockData:[],choosedDate:{},isShowDakaCtr:!1,shortScreen:!1,longScreen:!1}},computed:{tips:function(){if(!this.choosedDate.nowDate)return"真抱歉，打卡图不见了";var t=+(new Date).setHours(23,59,0,0)>this.choosedDate.nowDate;return t?"真抱歉，打卡图不见了":"这一天还没到哦"}},methods:{chooseDate:function(){var t={};return function(e){(t.nowDate||e)&&(t=e||t,this.choosedDate={clocked:t.clocked,clockData:t.clockData,nowDate:t.nowDate,today:t.today},this.showDakaCtr(),Object(p["b"])("早安打卡",["vjf-h5-log","transTime","openid","好物好生活平",location.href.split("?")[0],"点击日期","查看选定日期打卡图片"]),_hmt.push(["_trackEvent","click","打卡历史界面","点击日期查看历史记录"]))}}(),chooseMonth:function(){var t=Object(y["h"])(new Date,"{yyyy}{mm}");return function(e){return t=e?"".concat(e.year).concat(Object(y["a"])(e.month)):t,Object(p["b"])("早安打卡",["vjf-h5-log","transTime","openid","好物好生活平",location.href.split("?")[0],"点击月份","查看之前月份打卡情况"]),_hmt.push(["_trackEvent","click","打卡历史界面","切换月份"]),this.queryMonthRecord(t)}}(),initMonth:function(){var t=this;return this.chooseMonth().then((function(e){t.chooseDate()}))},queryMonthRecord:function(t){var e=this,a={punchinMonth:t};return Object(p["e"])(a).then((function(t){e.clockData=t.reply||[]}))},showDakaCtr:function(){this.choosedDate.today&&!this.choosedDate.clocked&&(Object(y["i"])()||+new Date>(new Date).setHours(C,b,0,0))?this.isShowDakaCtr=!0:this.isShowDakaCtr=!1;var t=(new Date).setHours(0,0,0,0)-5184e6;!this.choosedDate.clocked&&this.choosedDate.nowDate<(new Date).setHours(0,0,0,0)&&this.choosedDate.nowDate>t&&(this.isShowDakaCtr=!0)}},created:function(){var t=this,e=Object(y["h"])(new Date,"{yyyy}{mm}");this.queryMonthRecord(e),this.initPromise.then((function(){t.showDakaCtr()})),this.longScreen=!this.handleShortScreen(1300),Object(p["b"])("早安打卡",["vjf-h5-log","transTime","openid","好物好生活平",location.href.split("?")[0],"进入打卡历史页","进入打卡历史页"]),_hmt.push(["_trackEvent","click","首页","点击进入打卡历史页面"])}},M=j,O=(a("0a62"),Object(d["a"])(M,n,o,!1,null,"075094b3",null));e["default"]=O.exports},f35c:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2f31ae98.eb087680.js.map