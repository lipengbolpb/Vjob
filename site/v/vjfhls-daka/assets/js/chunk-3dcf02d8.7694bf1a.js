(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dcf02d8"],{"0e48":function(t,e,n){"use strict";var r=n("5de0"),i=n.n(r);i.a},"3f9c":function(t,e,n){"use strict";var r=n("f925"),i=n.n(r);i.a},"549a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myprize-wrap"},[t.prizeInfo.length?n("div",{staticClass:"prize-list"},t._l(t.prizeInfo,(function(e,r){return n("div",{key:r,staticClass:"list-item-box"},[n("div",{staticClass:"prize-img-box flex"},[e.ticketImg?n("img",{attrs:{src:t.img_baseUrl+e.ticketImg,alt:""}}):t._e(),e.cornerTag?n("CornerTag",{staticClass:"type-tag"},[t._v(t._s(e.cornerTag))]):t._e()],1),n("div",{staticClass:"prize-detail-text"},[n("div",{staticClass:"prize-name txt-cut"},[t._v(t._s(e.ticketName))]),n("div",{staticClass:"price-time"},[n("span",[t._v("中奖时间：")]),t._v(t._s(t._f("formatTime")(e.earnTime)))]),n("div",{staticClass:"price-time"},[n("span",[t._v("兑奖截止：")]),t._v(t._s(t._f("formatTime")(e.expireTime)))]),n("ButtonM",{staticClass:"prize-tag"},[t._v("天天抽奖")]),"0"===e.useStatus?n("ButtonM",{staticClass:"btn-get",on:{click:function(n){return t.toGetPrize(e)}}},[t._v("点击领取")]):n("ButtonM",{staticClass:"btn-get",on:{click:function(n){return t.toCheckPrize(e)}}},[t._v("查看")])],1)])})),0):t._e(),t.noRecord?n("NoRecord",[t._v("你还没有中奖记录呦～")]):t._e()],1)},i=[],a=(n("d81d"),n("0d03"),n("ac1f"),n("5319"),n("1276"),n("e0df")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"type-tag"},[t._t("default")],2)},c=[],s={name:"corner-tag"},u=s,d=(n("8436"),n("2877")),p=Object(d["a"])(u,o,c,!1,null,"9951e668",null),f=p.exports,l=n("b242"),g=n("7bf7"),b=n("b893"),m=n("b775"),h=n("ea00"),v=n("6f44"),j={name:"my-prize",components:{ButtonM:a["a"],CornerTag:f,NoRecord:l["a"]},data:function(){return{prizeInfo:[],img_baseUrl:m["a"].imgURL,noRecord:!1}},filters:{formatTime:function(t){return t.split(" ")[0].replace(/\-/g,".")}},methods:{handleInfoList:function(t){t.map((function(t){t.earnTime=t.earnTime.split(" ")[0],Object(b["g"])(new Date(t.earnTime))&&(t.cornerTag="当期");var e=t.expireTime.substring(0,19);+new Date>+new Date(e)&&(t.cornerTag="已过期"),"0"!==t.useStatus&&(t.cornerTag="已领取")}))},toCheckPrize:function(t){t=Object.assign({},t),t.grandPrizeType=t.prizeType,t.type="check","P"===t.grandPrizeType.substr(0,1)||"p"===t.grandPrizeType.substr(0,1)?(t.prizeType="real",this.$router.push({name:"addressInput",params:t})):(t.prizeType="virtual",this.$router.push({name:"virtualCard",params:t})),Object(h["b"])("天天抽奖",["vjf-h5-log","transTime","openid","好物好生活平",location.href.split("?")[0],"查看奖品","我的奖品页点击查看奖品"])},toGetPrize:function(t){"已过期"!==t.cornerTag?(t=Object.assign({},t),t.grandPrizeType=t.prizeType,t.type="get","P"===t.grandPrizeType.substr(0,1)||"p"===t.grandPrizeType.substr(0,1)?t.prizeType="real":t.prizeType="virtual",this.$router.push({name:"addressInput",params:t}),Object(h["b"])("天天抽奖",["vjf-h5-log","transTime","openid","好物好生活平",location.href.split("?")[0],"领取奖品","我的奖品页点击领奖"])):Object(v["a"])("提 示","兑奖时间已截止","我知道了")}},created:function(){var t=this;Object(g["c"])().then((function(e){var n=e.result,r=e.reply;"0"===n.businessCode?(t.prizeInfo=r,t.handleInfoList(t.prizeInfo),r.length||(t.noRecord=!0)):"2"!==n.businessCode&&"1"!==n.businessCode||(t.noRecord=!0)})).catch((function(e){t.noRecord=!0})),Object(h["b"])("天天抽奖",["vjf-h5-log","transTime","openid","好物好生活平",location.href.split("?")[0],"进入我的奖品页","我的奖品页"])}},O=j,_=(n("3f9c"),Object(d["a"])(O,r,i,!1,null,"00f751b5",null));e["default"]=_.exports},"5de0":function(t,e,n){},"5fde":function(t,e,n){},"66e0":function(t,e,n){t.exports=n.p+"assets/img/img-none.7af0957b.jpg"},"7bf7":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s}));var r=n("b775"),i=n("4360"),a=i["a"].state.userInfo.openid;function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/user/savePrize",method:"post",data:t})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a,currentPage:1,count:30}),Object(r["b"])({url:"/user/myPrizeRecord",method:"post",data:t})}function s(t){return Object.assign(t,{sendtype:"1"}),Object(r["b"])({url:"/user/getCaptcha",method:"post",data:t})}},8436:function(t,e,n){"use strict";var r=n("5fde"),i=n.n(r);i.a},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),a=n("fc6a"),o=n("b301"),c=[].join,s=i!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:s||u},{join:function(t){return c.call(a(this),void 0===t?",":t)}})},b242:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"no-prize-box"},[r("img",{attrs:{src:n("66e0"),alt:""}}),r("span",[t._t("default",[t._v("你还没有中奖记录呦～")])],2)])},i=[],a={name:"NoRecord"},o=a,c=(n("0e48"),n("2877")),s=Object(c["a"])(o,r,i,!1,null,"36e7c404",null);e["a"]=s.exports},b301:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!n||!r((function(){n.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,n){var r=n("f8c2"),i=n("44ad"),a=n("7b0b"),o=n("50c4"),c=n("65f0"),s=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,d=4==t,p=6==t,f=5==t||p;return function(l,g,b,m){for(var h,v,j=a(l),O=i(j),_=r(g,b,3),T=o(O.length),y=0,z=m||c,C=e?z(l,T):n?z(l,0):void 0;T>y;y++)if((f||y in O)&&(h=O[y],v=_(h,y,j),t))if(e)C[y]=v;else if(v)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:s.call(C,h)}else if(d)return!1;return p?-1:u||d?d:C}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde");r({target:"Array",proto:!0,forced:!a("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e0df:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button-box flex",style:t.bgUrl,on:{click:t.click}},[n("span",[t._t("default")],2)])},i=[],a={name:"button-m",props:{text:{type:String,default:""},bgImg:{type:[String,Object],default:""}},methods:{click:function(){this.$emit("click")}},computed:{bgUrl:function(){return this.bgImg?{backgroundImage:this.bgImg}:""}}},o=a,c=n("2877"),s=Object(c["a"])(o,r,i,!1,null,"cfd653a6",null);e["a"]=s.exports},ea00:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return g}));n("a15b"),n("0d03");var r=n("b775"),i=n("4360"),a=i["a"].state.userInfo.openid;function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/myPunchin",method:"post",data:{openid:a}})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/myPunchinRecord",method:"post",data:t})}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/changeRemind",method:"post",data:t})}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/punchinToday",method:"post",data:t})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/myStatistics",method:"post",data:t})}function p(){var t={openid:a};return Object(r["b"])({url:"/punchin/getCard",method:"post",data:t})}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/punchinSign",method:"post",data:t})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{openid:a}),Object(r["b"])({url:"/punchin/findCourse",method:"post",data:t})}function g(t,e){var n=new Date,i=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,o=n.getDate()<10?"0"+n.getDate():n.getDate(),c=n.getHours()<10?"0"+n.getHours():n.getHours(),s=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),u=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();e[1]=n.getFullYear()+"-"+i+"-"+o+"T"+c+":"+s+":"+u,e[2]=a;var d=new Date,p=encodeURIComponent(location.pathname),f=encodeURIComponent(e.join(" ")),l=[d.getHours(),d.getMinutes(),d.getSeconds()].join(":");return Object(r["b"])({baseURL:r["a"].vClog,url:"/clog?"+t+l+p+"="+f,method:"get"})}},f925:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3dcf02d8.7694bf1a.js.map