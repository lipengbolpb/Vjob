<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>青岛啤酒消费者智能营销数据监控系统</title>
    <meta name="description" content="一个关于青岛啤酒的大数据展示平台">
    <meta name="aplus-xplug" content="NONE">
    <meta name="keywords" content="青岛啤酒,青啤,大数据,营销">
    <script src="js/rem.js"></script>
	<link rel="shortcut icon" href="img/favicon.ico">
    <link href="css/index.css?v=2.21" rel="stylesheet" />
    <link href="css/son.css?v=2.10" rel="stylesheet" />
    <link href="swiper/swiper.min.css?v=1" rel="stylesheet">
	<style type="text/css">
		#download{
			position: absolute;
			right: 100px;
			top: 1.2%;
			font-size: 20px;
			text-decoration: underline;
			display: none;
		}
		#download:link,#download:active,#download:visited,#download:hover{
			color: #22f5ee;
		}
		
	</style>
</head>

<body>
    <div class="login">
        <div>
            <p>Log In</p>
            <div class="phone">
                <input type="text" placeholder="请输入手机号" maxlength="11" id="phonenum">
            </div>
            <div class="code">
                <input type="text" placeholder="请输入验证码" maxlength="6" id="yzcode">
                <input type="button" value="获取验证码" id="getcode">
            </div>
            <input type="button" value="登录" id="btn">
        </div>
    </div>
    <div class="wrap">
        <img src="img/title.png" class="title">
		<a href="http://47.94.94.184:9898/VjifenDAS_SAAS/audit/auditIndex.do?openType=1" id="download">数据提取</a>
        <img src="img/light_title.png" class="light" id="light">
        <div class="left">
            <div class="top weather">
                <!-- 天气 -->
                <div>
                    <img src="img/logo.png">
                </div>
                <div>
                    <p id="date"></p>
                    <!-- 日期 -->
                </div>
                <div class="location">
                    <div>
                        <img src="" id="myWeather">
                        <p>
                            <span id="temperature"></span>
                            <span id="wind"></span>
                        </p>
                    </div>
                    <p class="content">
                        <span id="location"></span>
                    </p>
                </div>
            </div>
            <div class="middle week">
                <!-- 周扫码量 -->
                <div class="title">
                    <img src="img/week-bg.png">
                    <p>(7天热卖)</p>
                </div>
                <div class="content" id="week">

                </div>
            </div>
            <div class="bottom core">
                <!-- 新鲜度 -->
                <div class="btns">
                    <img src="img/core-bg.png">
                    <div id="border1">
                        <input type="button" id="JDguan" value="罐(经典)">
                    </div>
                    <div id="border2">
                        <input type="button" id="Elguan" value="罐(其他)">
                    </div>
                    <div id="border3">
                        <input type="button" id="JDping" value="瓶(经典)">
                    </div>
                    <div id="border4">
                        <input type="button" id="Elping" value="瓶(其他)">
                    </div>
                </div>
                <div id="core"></div>
            </div>
        </div>
        <div class="between">
            <img src="img/three.png" id="three">
            <div class="top map">
                <!-- 地图 -->
                <div class="mask1">
                    <img src="img/light-left.png" class="ltLeft">
                    <img src="img/light-bottom.png" class="ltBottom">
                </div>
                <div class="mask2">
                    <img src="img/light-bottom.png" class="ltleftTop">
                    <img src="img/light-bottom.png" class="ltrightTop">
                </div>
                <div class="mask3">
                    <img src="img/light-bottom.png" class="ltRightBot">
                    <img src="img/light-left.png" class="ltRight">
                </div>
                <div id="map"></div>
                <div id="map2"></div>
                <div class="info">
                    <img src="img/customer.png" class="customer">
                    <div class="nixcont">
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="ulList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>人</p>
                        </div>
                    </div>
                    <p>用户热力+实时扫码</p>
                </div>
                <img src="img/round.png" class="round" id="round">
                <input type="button" id="detail">
                <div id="detailBox">
                    <img src="img/line-north.png" class="lineNorth">
                    <img src="img/line-south.png" class="lineSouth">
                    <img src="img/line-all.png" class="lineAll">
                    <p class="titleNorth">北方</p>
                    <p class="titleSouth">南方</p>
                    <p class="titleAll">全国</p>
                    <div class="listAll">
                        <ul id="ulAll"></ul>
                    </div>
                    <div class="listNorth">
                        <ul id="ulNorth"></ul>
                    </div>
                    <div class="listSouth">
                        <ul id="ulSouth"></ul>
                    </div>
                </div>
            </div>
            <div class="bottom month">
                <!-- 月扫码量 -->
                <img src="img/month-bg.png">
                <div id="month"></div>
            </div>
        </div>
        <div class="right">
            <div class="top real">
                <!-- 实时扫码链接 -->
                <img src="img/real-bg.png">
                <div class="title">
                    <span>昵称</span>
                    <span>地区
                        <i>(省)</i>
                    </span>
                    <span>市</span>
                    <span>品种</span>
                </div>
                <div class="myscroll" id="marquee">
                    <ul id="list">

                    </ul>
                </div>
            </div>
            <div class="middle add">
                <!-- 累计瓶数 -->
                <div class="link">
                    <img src="img/add-total.png" class="total">
                    <div class="linkBox" id="linkBox">
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Lnum">
                            <ul class="myList">
                                <li>0</li>
                            </ul>
                        </div>
                    </div>
                    <img src="img/add-bottole.png" class="bottole">
                </div>
                <div class="consume">
                    <img src="img/money-head.png" class="moneyHead">
                    <div id="moneyBox" class="moneyBox">
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>.</p>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="Moneynum">
                            <ul class="moneyList">
                                <li>0</li>
                            </ul>
                        </div>
                    </div>
                    <img src="img/money-foot.png" class="moneyFoot">
                </div>
            </div>
            <div class="bottom total">
                <!-- 总千升 -->
                <p>
                    <img src="img/used.png" class="used">
                    <span id="rise"></span>
                    <span>千升</span>
                    <img src="img/beer.png" class="beer">
                </p>
                <img src="img/link-bg.png" class="notice">
                <img src="img/bottles.png" class="bottles">
            </div>
        </div>
        <p style="width:100%;font-size:0.4rem;position:absolute;bottom:0.5%;text-align:center;">技术支持：V积分 · 四川泰合鼎川物联科技有限公司 © Copyright 2012-2017</p>
    </div>

    <!-- 二级页面 -->
    <div class="son">
        <img src="img/title.png" class="title">
        <img src="img/light_title.png" class="light">
        <div class="left">
            <div class="top weather">
                <!-- 天气 -->
                <div>
                    <img src="img/logo.png">
                </div>
                <div>
                    <p id="dateSon"></p>
                    <!-- 日期 -->
                </div>
                <div class="location">
                    <div>
                        <img src="" id="myWeatherSon">
                        <p>
                            <span id="temperatureSon"></span>
                            <span id="windSon"></span>
                        </p>
                    </div>
                    <p class="content">
                        <span id="locationSon"></span>
                    </p>
                </div>
            </div>
            <div class="bottom core">
                <img src="img/area-title.png" id="areaTitle">
                <img src="img/area-icon.png" id="areaIcon">

                <!-- 扫码排行 -->
                <div id="rank"></div>
            </div>
            <!-- sku按钮 -->
            <div id="control">
                <div class="outside">
                    <div class="close" id="close"></div>
                    <div class="contentSon" id="contentSon">
                        <p class="all" id="all">全部</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="between">
            <img src="img/three.png" id="three">
            <div class="top map">
                <!-- 地图 -->
                <div class="title">
                    <p id="proviceName"></p>
                    <p>用户热力+实时扫码</p>
                </div>
                <div class="infoSon">
                    <img src="img/customer.png" class="customer">
                    <div class="nixcont">
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="userList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>人</p>
                        </div>
                    </div>

                </div>
                <div class="infototalSon">
                    <div class="totalSon">
                        <img src="img/total-title.png" class="totlaTitle">
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>,</p>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div class="num">
                            <ul class="scanList">
                                <li>0</li>
                            </ul>
                        </div>
                        <div>
                            <p>支</p>
                        </div>
                    </div>
                </div>
                <div id="mapSon"></div>
                <div id="mapSon2"></div>
                <!-- <img src="img/0.png" id="mask0"> -->
                <img src="img/round.png" class="round" id="round">
                <input type="button" id="back">
            </div>
            <div class="bottom month">
                <!-- 月扫码量 -->
                <img src="img/month-bg.png">
                <div id="monthSon"></div>
            </div>
        </div>
        <div class="right">
            <div class="top real">
                <!-- 开瓶新鲜度 -->
                <img src="img/fresh-title.png" class="freshTitle">
                <input type="button" value="" id="next" class="arrow swiper-button-next">
                <input type="button" value="" id="prev" class="arrow swiper-button-prev">
                <div id="container" class="swiper-container">
                    <div id="freshList" class="swiper-wrapper">
                       
                    </div>
                </div>
            </div>
            <!-- 月度看板 -->
            <div class="bottom total">
                <img src="img/look-title.png" class="lookTitle">
                <ul id="btnList">
                    <li>
                        <input type="button" value="累计" id="btnAccumulate ">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="1月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="2月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="3月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="4月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="5月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="6月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="7月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="8月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="9月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="10月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="11月">
                    </li>
                    <li class="monthBtn">
                        <input type="button" value="12月">
                    </li>
                </ul>
                <div class="content">
                    <div class="left">
                        <p>累计兑出金额
                            <span id="end0">(截至上月)</span>
                        </p>
                        <p>累计销量
                            <span id="end1">(截至上月)</span>
                        </p>
                        <p>累计扫码率
                            <span id="end2">(截至上月)</span>
                        </p>
                        <p>费效比
                            <span id="end3">(截至上月)</span>
                        </p>
                    </div>
                    <div class="right">
                        <p id="moneySon">0</p>
                        <p id="saleSon">0</p>
                        <p id="scanSon">
                            0<span>(扫码支数/销量支数)</span>
                        </p>
                        <p id="vpointsSon">
                            0<span>(兑出金额/销量支数)</span>
                        </p>
                    </div>
                </div>
                <img src="img/line.png" class="line">
                <p class="time">活动上线日期
                    <span id="itemDate"></span>
                </p>
            </div>
        </div>
        <p style="color:rgba(255,255,255,0.6);width:100%;font-size:0.4rem;position:absolute;bottom:0.5%;text-align:center;">技术支持：V积分大数据中心</p>
    </div>
</body>

<script src="js/jquery-2.2.4.min.js"></script>
<script src="swiper/swiper.min.js?v=1"></script>
<script src="js/echarts.js"></script>
<script src="js/china.js?v=2"></script>
<script src="js/scroll.js"></script>
<!-- 搜狐ip地址查询接口 -->
<script src="http://pv.sohu.com/cityjson?ie=utf-8"></script> -->
<script src="js/publictip.js?v=1.1"></script>
<script src="js/index.js?v=52"></script>
<script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
<script type="text/javascript">
    var dom_Lnum = document.getElementsByClassName('Lnum'),
        dom_num = document.getElementsByClassName('num'),
        dom_light = document.getElementById('light'),
        dom_round = document.getElementById('round'),
        dom_three = document.getElementById('three'),
        dom_ltLeft = document.getElementsByClassName('ltLeft')[0],
        dom_ltleftTop = document.getElementsByClassName('ltleftTop')[0],
        dom_ltrightTop = document.getElementsByClassName('ltrightTop')[0],
        dom_ltRightBot = document.getElementsByClassName('ltRightBot')[0],
        dom_ltRight = document.getElementsByClassName('ltRight')[0],
        dom_ltBottom = document.getElementsByClassName('ltBottom')[0];
    var mapMax,//地图最大热力值
        Data_map = [],
        Data_star = [];

    var myChart;

    var vjifenToken = localStorage.vjifenToken === undefined ? '' : localStorage.vjifenToken;
    console.log('vjifenToken:' + vjifenToken);

    // 路径配置
    require.config({
        paths: {
            echarts: 'http://echarts.baidu.com/build/dist'
        }
    });
    // 使用
    require(
        [
            'echarts',
            'echarts/chart/map'
        ],
        function (ec) {
            //图表路径
            myChart = ec.init(document.getElementById('map'));
            option = {
                toolbox: {
                    show: false
                },
                dataRange: {
                    show: false,
                    min: 0,
                    max: '',
                    splitNumber: 0,
                    color: ['#09366a', '#4c88cd']
                },
                series: [
                    {
                        name: '扫码热力',
                        type: 'map',
                        mapType: 'china',
                        roam: false,
                        itemStyle: {
                            normal: {
                                label: {
                                    show: false,
                                    textStyle: {
                                        color: "rgb(249, 249, 249)"
                                    }
                                },
                                borderColor: '#183961',
                                borderWidth: 1,
                                areaStyle: {
                                    color: '#2072d0'
                                }
                            },
                            emphasis: { label: { show: false } }
                        },
                        data: [],
                        markPoint: {
                            symbol: 'emptyCircle',
                            symbolSize: function (v) {
                                return 3 + v / 5
                            },
                            effect: {
                                show: true,
                                shadowBlur: 0
                            },
                            itemStyle: {
                                normal: {
                                    label: { show: false },
                                    color: '#00f0ff'
                                },
                                emphasis: {
                                    label: { position: 'top' }
                                }
                            },
                            data: []
                        }
                    }
                ]
            };
            myChart.setOption(option);
        }
    );

    window.onload = function () {
        function loadMonitorData() {
            var option = {
                token: vjifenToken
            };
            $.ajax({
                async: false,
                type: "GET",
                url: 'http://59.110.53.118:9008/DBTMainEntStats/screenAction/getRealData.do',
                data: option,
                success: function (data) {
                    var jo = JSON.parse(data);
                    if (jo.status == '-1') {
                        document.getElementsByClassName('login')[0].style.display = 'block';
                        return;
                    }
                    //热力图
                    var maxArr = [];
                    for (var i = 0; i < jo.realList.length; i++) {
                        if (jo.realList[i].province == '海南') {
                            jo.realList.push({ "province": "广东", "scanCounts": jo.realList[i].scanCounts });
                        } else if (jo.realList[i].province == '河南') {
                            jo.realList.push({ "province": "湖北", "scanCounts": jo.realList[i].scanCounts });
                        } else if (jo.realList[i].province == '河北') {
                            jo.realList.push({ "province": "天津", "scanCounts": jo.realList[i].scanCounts });
                        }
                    }
                    for (var i = 0; i < jo.realList.length; i++) {
                        Data_map[i] = {
                            name: jo.realList[i].province,
                            value: jo.realList[i].scanCounts,
                            label: { normal: { show: true } }
                        }
                        maxArr[i] = jo.realList[i].scanCounts;
                    }
                    mapMax = Math.max.apply(null, maxArr);
                    var option = myChart.getOption();
                    for (var i = 0; i < jo.geoList.length; i++) {
                        Data_star[i] = {
                            name: '',
                            value: 10,
                            geoCoord: [jo.geoList[i].lon, jo.geoList[i].lat]
                        }
                    }
                    option.dataRange.max = mapMax;
                    option.series[0].data = Data_map;
                    option.series[0].markPoint.data = Data_star;
                    myChart.setOption(option);

                    //累计瓶数
                    var num9 = function (num) {
                        if (num.toString().length >= 9) {
                            return num.toString();
                        }
                        var str = "";
                        for (var i = num.toString().length; i < 9; i++) {
                            str += "0";
                        }
                        return str + num.toString();
                    }

                    /*
                    1.先获取正确的数组
                    2.再获取目前第一行li中的数组
                    3.进行比较
                    4.不一样的生成li
                    5.填写这个li并插入ul
                    6.向上顶
                    7.删除上面这个li
                     */

                    //1.先获取正确的数组
                    var scan = num9(jo.realScan);
                    var bottleArr = [];
                    for (var i = 0; i < scan.length; i++) {
                        bottleArr.push(scan[i]);
                    }
                    // console.log(bottleArr);

                    //2.获取第一行所有的li
                    var dom_myList = document.getElementsByClassName('myList');
                    var myArr = [];
                    for (var i = 0; i < dom_myList.length; i++) {
                        myArr[i] = $(".myList").eq(i).find('li').eq(0).html();
                    }
                    // console.log(myArr);

                    //3.进行对比
                    var kArr = [];
                    for (var i = 0; i < myArr.length; i++) {
                        if (myArr[i] != bottleArr[i]) {
                            kArr.push(i);
                        }
                    }
                    // console.log(kArr);

                    //4.不一样的生成li
                    for (var i = 0; i < kArr.length; i++) {
                        var createLi = document.createElement('li');
                        //5.填写这个li并插入ul
                        createLi.innerHTML = bottleArr[kArr[i]];
                        dom_myList[kArr[i]].appendChild(createLi);
                    }

                    //6.不一样的往上顶
                    for (var i = 0; i < kArr.length; i++) {
                        $(".myList").eq(kArr[i]).find('li').eq(0).css('marginTop', '-255%');
                    }

                    //7.删除上面这个li
                    setTimeout(function () {
                        for (var i = 0; i < kArr.length; i++) {
                            $(".myList").eq(kArr[i]).find('li').eq(0).remove();
                        }
                        kArr = [];
                        myArr = [];
                        bottleArr = [];
                    }, 1000);


                    //消费者数
                    var num8 = function (num) {
                        if (num.toString().length >= 8) {
                            return num;
                        }
                        var str = "";
                        for (var i = num.toString().length; i < 8; i++) {
                            str += "0";
                        }
                        return str + num.toString();
                    }

                    /*
                    1.先获取正确的数组
                    2.再获取目前第一行li中的数组
                    3.进行比较
                    4.不一样的生成li
                    5.填写这个li并插入ul
                    6.向上顶
                    7.删除上面这个li
                     */

                    //1.获取正确数组
                    var users = num8(jo.realUser);
                    var userArr = [];
                    for (var i = 0; i < users.length; i++) {
                        userArr.push(users[i]);
                    }
                    // console.log(userArr);

                    //2.获取第一行所有的li
                    var dom_ulList = document.getElementsByClassName('ulList');
                    var numArr = [];
                    for (var i = 0; i < dom_ulList.length; i++) {
                        numArr[i] = $(".ulList").eq(i).find('li').eq(0).html();
                    }
                    // console.log(numArr);

                    //3.进行对比
                    var iArr = [];
                    for (var i = 0; i < numArr.length; i++) {
                        if (numArr[i] != userArr[i]) {
                            iArr.push(i);
                        }
                    }
                    // console.log(iArr);

                    //4.不一样的生成li
                    for (var i = 0; i < iArr.length; i++) {
                        var createLi = document.createElement('li');
                        //5.填写这个li并插入ul
                        createLi.innerHTML = userArr[iArr[i]];
                        dom_ulList[iArr[i]].appendChild(createLi);
                    }

                    //6.不一样的往上顶
                    for (var i = 0; i < iArr.length; i++) {
                        $(".ulList").eq(iArr[i]).find('li').eq(0).css('marginTop', '-210%');
                    }

                    //7.删除上面这个li
                    setTimeout(function () {
                        for (var i = 0; i < iArr.length; i++) {
                            $(".ulList").eq(iArr[i]).find('li').eq(0).remove();
                        }
                        iArr = [];
                        numArr = [];
                        userArr = [];
                    }, 1000);

                    //兑出金额
                    /*
                    1.先获取正确的数组
                    2.再获取目前第一行li中的数组
                    3.进行比较
                    4.不一样的生成li
                    5.填写这个li并插入ul
                    6.向上顶
                    7.删除上面这个li
                     */

                    //1.获取正确数组
                    var realmoney = jo.realVpoints;
                    var moneyArr = [];
                    for (var i = 0; i < realmoney.length; i++) {
                        moneyArr.push(realmoney[i]);
                    }

                    //2.获取第一行所有的li
                    var dom_moneyList = document.getElementsByClassName('moneyList');
                    var realMoneyArr = [];
                    for (var i = 0; i < dom_moneyList.length; i++) {
                        realMoneyArr[i] = $(".moneyList").eq(i).find('li').eq(0).html();
                    }

                    //3.进行对比
                    var bArr = [];
                    for (var i = 0; i < realMoneyArr.length; i++) {
                        if (realMoneyArr[i] != moneyArr[i]) {
                            bArr.push(i);
                        }
                    }

                    //4.不一样的生成li
                    for (var i = 0; i < bArr.length; i++) {
                        var createLi = document.createElement('li');
                        //5.填写这个li并插入ul
                        createLi.innerHTML = moneyArr[bArr[i]];
                        dom_moneyList[bArr[i]].appendChild(createLi);
                    }

                    //6.不一样的往上顶
                    for (var i = 0; i < bArr.length; i++) {
                        $(".moneyList").eq(bArr[i]).find('li').eq(0).css('marginTop', '-470%');
                    }

                    //7.删除上面这个li
                    setTimeout(function () {
                        for (var i = 0; i < bArr.length; i++) {
                            $(".moneyList").eq(bArr[i]).find('li').eq(0).remove();
                        }
                        bArr = [];
                        realMoneyArr = [];
                        moneyArr = [];
                    }, 1000);

                },
                error: function () {
                    console.log('实时数据请求接口出错');
                }
            });
            return loadMonitorData;
        }
        if (vjifenToken != '') {
            timerload = setInterval(loadMonitorData(), 5000);
        }


        var flag = true;
        function animate() {
            if (flag) {
                dom_round.className = 'round animate';
                dom_three.className = 'three';
                dom_light.className = 'light title_animate';
                dom_ltLeft.className = 'horse1';
                dom_ltBottom.className = 'horse2';
                dom_ltleftTop.className = 'horse3';
                dom_ltrightTop.className = 'horse4';
                dom_ltRightBot.className = 'horse5';
                dom_ltRight.className = 'horse6';
                flag = false;
            } else {
                dom_round.className = 'round';
                dom_three.className = 'three';
                dom_ltLeft.className = 'ltLeft';
                dom_ltBottom.className = 'ltBottom';
                dom_ltleftTop.className = 'ltleftTop';
                dom_ltrightTop.className = 'ltrightTop';
                dom_ltRightBot.className = 'ltRightBot';
                dom_ltRight.className = 'ltRight';
                flag = true;
            }
            return animate;
        }
        let horseAnimate = setInterval(animate(), 8000);
    }
</script>

<script src="js/son.js?v=2.70"></script>

</html>