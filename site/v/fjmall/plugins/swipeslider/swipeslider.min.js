(function (a) {
  a.fn.swipeslider = function (r) {
    var J = this;
    var g = this.find(".sw-slides");
    var S = {
      transitionDuration: 500,
      autoPlay: true,
      autoPlayTimeout: 4000,
      timingFunction: "ease-out",
      prevNextButtons: true,
      bullets: true,
      swipe: true,
      sliderHeight: "60%",
      sliderOffset: 30
    };
    var O = a.extend(S, r);
    var Q = 0;
    var t = 0;
    var K = 0;
    var j = 0;
    var q = 0;
    var d = 0;
    var w = 0;
    var C = true;
    var N = O.transitionDuration;
    var R = O.sliderOffset;
    var y = O.swipe;
    var E = O.autoPlayTimeout;
    var e = undefined;
    var U = true;
    var F = O.autoPlay;
    (function M() {
      a(J).css("padding-top", O.sliderHeight);
      w = g.width();
      a(window).resize(x);
      if (O.prevNextButtons) {
        A()
      }
      g.find(".sw-slide:last-child").clone().prependTo(g);
      g.find(".sw-slide:nth-child(2)").clone().appendTo(g);
      d = g.find(".sw-slide").length;
      if (O.bullets) {
        k(d - 2)
      }
      L(N);
      m(O.timingFunction);
      i("all");
      if (y) {
        g.on("mousedown touchstart", p);
        a("html").on("mouseup touchend", l);
        a("html").on("mousemove touchmove", G)
      }
      b(1);
      u()
    })();

    function x() {
      w = g.width();
      o()
    }

    function p(V) {
      if (!C) {
        return
      }
      h();
      if (V.originalEvent.touches) {
        V = V.originalEvent.touches[0]
      }
      if (Q == 0) {
        Q = 1;
        t = V.clientX
      }
    }

    function G(Y) {
      var X;
      if (Y.originalEvent.touches) {
        X = Y.originalEvent.touches[0]
      } else {
        X = Y
      }
      var W = X.clientX - t;
      if (Q == 1 && Math.abs(W) >= 0) {
        Q = 2;
        K = q * -w
      }
      if (Q == 2) {
        Y.preventDefault();
        var V = 1;
        if ((q == 0 && X.clientX > t) || (q == d - 1 && X.clientX < t)) {
          V = 3
        }
        j = K + W / V;
        B(false);
        H(j)
      }
    }

    function l(V) {
      if (Q == 2) {
        Q = 0;
        if (Math.abs(j - K) > R) {
          q = j < K ? q + 1 : q - 1
        }
        q = Math.min(Math.max(q, 0), d - 1);
        j = q * -w;
        n();
        o()
      }
      u();
      Q = 0
    }

    function n() {
      C = false;
      window.setTimeout(D, N)
    }

    function D() {
      C = true
    }

    function h() {
      U = false;
      window.clearTimeout(e)
    }

    function u() {
      if (F) {
        U = true;
        window.clearTimeout(e);
        I()
      }
    }

    function I() {
      if (U) {
        e = window.setTimeout(P, E)
      }
    }

    function P() {
      z();
      I()
    }

    function z() {
      q += 1;
      o()
    }

    function T() {
      q -= 1;
      o()
    }

    function o() {
      B(true);
      H(-q * w);
      if (q == 0) {
        window.setTimeout(c, N)
      } else {
        if (q == d - 1) {
          window.setTimeout(s, N)
        }
      }
      v(q)
    }

    function s() {
      b(1)
    }

    function c() {
      b(d - 2)
    }

    function b(V) {
      B(false);
      q = V;
      H(-w * q);
      window.setTimeout(f, 50)
    }

    function f() {
      B(true)
    }

    function B(V) {
      if (V) {
        i("all")
      } else {
        i("none")
      }
    }

    function H(V) {
      g.css("transform", "translateX(" + V + "px)")
    }

    function L(V) {
      g.css("transition-duration", V + "ms")
    }

    function m(V) {
      g.css("transition-timing-function", V)
    }

    function i(V) {
      g.css("transition-property", V)
    }

    function A() {
      g.after('<span class="sw-next-prev sw-prev"></span>');
      J.find(".sw-prev").click(function () {
        if (U) {
          h();
          T();
          u()
        }
      });
      g.after('<span class="sw-next-prev sw-next"></span>');
      J.find(".sw-next").click(function () {
        if (U) {
          h();
          z();
          u()
        }
      })
    }

    function k(X) {
      g.after('<ul class="sw-bullet"></ul>');
      var Y = g.parent().find(".sw-bullet");
      for (var V = 0; V < X; V++) {
        if (V == 0) {
          Y.append('<li class="sw-slide-' + V + ' active"></li>')
        } else {
          Y.append('<li class="sw-slide-' + V + '"></li>')
        }
        var W = J.find(".sw-slide-" + V);
        (function (Z) {
          W.click(function () {
            h();
            q = Z + 1;
            o();
            u()
          })
        })(V)
      }
    }

    function v(W) {
      var V = 0;
      if (W == 0) {
        V = d - 3
      } else {
        if (W == d - 1) {
          V = 0
        } else {
          V = W - 1
        }
      }
      J.find(".sw-bullet").find("li").removeClass("active");
      J.find(".sw-slide-" + V).addClass("active")
    }
    return J
  }
}(jQuery));